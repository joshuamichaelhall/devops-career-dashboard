{"ast":null,"code":"import React,{useState}from'react';import{Plus,Clock}from'lucide-react';import TimeLogForm from'./TimeLogForm';import{useDashboard}from'../context/DashboardContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const WeeklyMetricsCard=()=>{const{dashboardData,loading}=useDashboard();const[showTimeLogForm,setShowTimeLogForm]=useState(false);const[successMessage,setSuccessMessage]=useState('');if(loading||!dashboardData){return/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md p-4 h-64 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"})});}const{weeklyMetrics}=dashboardData;const handleTimeLogClose=result=>{setShowTimeLogForm(false);if(result!==null&&result!==void 0&&result.success){setSuccessMessage(result.message);setTimeout(()=>setSuccessMessage(''),3000);}};const getProgressPercentage=(actual,target)=>{return Math.min(100,Math.round(actual/target*100));};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold\",children:\"Weekly Metrics\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowTimeLogForm(true),className:\"bg-blue-600 text-white p-2 rounded-full flex items-center justify-center\",\"aria-label\":\"Log time\",children:/*#__PURE__*/_jsx(Clock,{size:18})})]}),successMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-100 text-green-800 p-2 rounded mb-4 text-sm\",children:successMessage}),showTimeLogForm?/*#__PURE__*/_jsx(TimeLogForm,{onClose:handleTimeLogClose}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Learning\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[weeklyMetrics.learningHours,\"/25 hours\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2.5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-600 h-2.5 rounded-full\",style:{width:\"\".concat(getProgressPercentage(weeklyMetrics.learningHours,25),\"%\")}})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Projects\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[weeklyMetrics.projectHours,\"/12.5 hours\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2.5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-500 h-2.5 rounded-full\",style:{width:\"\".concat(getProgressPercentage(weeklyMetrics.projectHours,12.5),\"%\")}})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Networking\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[weeklyMetrics.networkingHours,\"/7.5 hours\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2.5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-purple-500 h-2.5 rounded-full\",style:{width:\"\".concat(getProgressPercentage(weeklyMetrics.networkingHours,7.5),\"%\")}})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Content Creation\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[weeklyMetrics.contentCreationHours,\"/5 hours\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2.5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-500 h-2.5 rounded-full\",style:{width:\"\".concat(getProgressPercentage(weeklyMetrics.contentCreationHours,5),\"%\")}})})]}),weeklyMetrics.jobSearchHours>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Job Search\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[weeklyMetrics.jobSearchHours,\" hours\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2.5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-pink-500 h-2.5 rounded-full\",style:{width:\"\".concat(Math.min(100,weeklyMetrics.jobSearchHours*10),\"%\")}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 pt-4 border-t border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Total Hours\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-lg font-bold text-blue-600\",children:[weeklyMetrics.totalHours,\"/50\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-3 mt-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-600 h-3 rounded-full\",style:{width:\"\".concat(getProgressPercentage(weeklyMetrics.totalHours,50),\"%\")}})})]})]})]});};export default WeeklyMetricsCard;","map":{"version":3,"names":["React","useState","Plus","Clock","TimeLogForm","useDashboard","jsx","_jsx","jsxs","_jsxs","WeeklyMetricsCard","dashboardData","loading","showTimeLogForm","setShowTimeLogForm","successMessage","setSuccessMessage","className","children","weeklyMetrics","handleTimeLogClose","result","success","message","setTimeout","getProgressPercentage","actual","target","Math","min","round","onClick","size","onClose","learningHours","style","width","concat","projectHours","networkingHours","contentCreationHours","jobSearchHours","totalHours"],"sources":["/Users/jmh/repos_software/devops-career-dashboard/dashboard/src/components/WeeklyMetricsCard.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Plus, Clock } from 'lucide-react';\nimport TimeLogForm from './TimeLogForm';\nimport { useDashboard } from '../context/DashboardContext';\n\nconst WeeklyMetricsCard = () => {\n  const { dashboardData, loading } = useDashboard();\n  const [showTimeLogForm, setShowTimeLogForm] = useState(false);\n  const [successMessage, setSuccessMessage] = useState('');\n  \n  if (loading || !dashboardData) {\n    return (\n      <div className=\"bg-white rounded-lg shadow-md p-4 h-64 flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n  \n  const { weeklyMetrics } = dashboardData;\n  \n  const handleTimeLogClose = (result) => {\n    setShowTimeLogForm(false);\n    \n    if (result?.success) {\n      setSuccessMessage(result.message);\n      setTimeout(() => setSuccessMessage(''), 3000);\n    }\n  };\n  \n  const getProgressPercentage = (actual, target) => {\n    return Math.min(100, Math.round((actual / target) * 100));\n  };\n  \n  return (\n    <div className=\"bg-white rounded-lg shadow-md p-4\">\n      <div className=\"flex justify-between items-center mb-4\">\n        <h2 className=\"text-xl font-bold\">Weekly Metrics</h2>\n        <button\n          onClick={() => setShowTimeLogForm(true)}\n          className=\"bg-blue-600 text-white p-2 rounded-full flex items-center justify-center\"\n          aria-label=\"Log time\"\n        >\n          <Clock size={18} />\n        </button>\n      </div>\n      \n      {successMessage && (\n        <div className=\"bg-green-100 text-green-800 p-2 rounded mb-4 text-sm\">\n          {successMessage}\n        </div>\n      )}\n      \n      {showTimeLogForm ? (\n        <TimeLogForm onClose={handleTimeLogClose} />\n      ) : (\n        <div className=\"space-y-4\">\n          <div>\n            <div className=\"flex justify-between text-sm mb-1\">\n              <span className=\"text-gray-600\">Learning</span>\n              <span className=\"font-medium\">{weeklyMetrics.learningHours}/25 hours</span>\n            </div>\n            <div className=\"w-full bg-gray-200 rounded-full h-2.5\">\n              <div\n                className=\"bg-blue-600 h-2.5 rounded-full\"\n                style={{ width: `${getProgressPercentage(weeklyMetrics.learningHours, 25)}%` }}\n              ></div>\n            </div>\n          </div>\n          \n          <div>\n            <div className=\"flex justify-between text-sm mb-1\">\n              <span className=\"text-gray-600\">Projects</span>\n              <span className=\"font-medium\">{weeklyMetrics.projectHours}/12.5 hours</span>\n            </div>\n            <div className=\"w-full bg-gray-200 rounded-full h-2.5\">\n              <div\n                className=\"bg-green-500 h-2.5 rounded-full\"\n                style={{ width: `${getProgressPercentage(weeklyMetrics.projectHours, 12.5)}%` }}\n              ></div>\n            </div>\n          </div>\n          \n          <div>\n            <div className=\"flex justify-between text-sm mb-1\">\n              <span className=\"text-gray-600\">Networking</span>\n              <span className=\"font-medium\">{weeklyMetrics.networkingHours}/7.5 hours</span>\n            </div>\n            <div className=\"w-full bg-gray-200 rounded-full h-2.5\">\n              <div\n                className=\"bg-purple-500 h-2.5 rounded-full\"\n                style={{ width: `${getProgressPercentage(weeklyMetrics.networkingHours, 7.5)}%` }}\n              ></div>\n            </div>\n          </div>\n          \n          <div>\n            <div className=\"flex justify-between text-sm mb-1\">\n              <span className=\"text-gray-600\">Content Creation</span>\n              <span className=\"font-medium\">{weeklyMetrics.contentCreationHours}/5 hours</span>\n            </div>\n            <div className=\"w-full bg-gray-200 rounded-full h-2.5\">\n              <div\n                className=\"bg-yellow-500 h-2.5 rounded-full\"\n                style={{ width: `${getProgressPercentage(weeklyMetrics.contentCreationHours, 5)}%` }}\n              ></div>\n            </div>\n          </div>\n          \n          {weeklyMetrics.jobSearchHours > 0 && (\n            <div>\n              <div className=\"flex justify-between text-sm mb-1\">\n                <span className=\"text-gray-600\">Job Search</span>\n                <span className=\"font-medium\">{weeklyMetrics.jobSearchHours} hours</span>\n              </div>\n              <div className=\"w-full bg-gray-200 rounded-full h-2.5\">\n                <div\n                  className=\"bg-pink-500 h-2.5 rounded-full\"\n                  style={{ width: `${Math.min(100, weeklyMetrics.jobSearchHours * 10)}%` }}\n                ></div>\n              </div>\n            </div>\n          )}\n          \n          <div className=\"mt-4 pt-4 border-t border-gray-200\">\n            <div className=\"flex justify-between items-center\">\n              <span className=\"font-medium\">Total Hours</span>\n              <span className=\"text-lg font-bold text-blue-600\">{weeklyMetrics.totalHours}/50</span>\n            </div>\n            <div className=\"w-full bg-gray-200 rounded-full h-3 mt-2\">\n              <div\n                className=\"bg-blue-600 h-3 rounded-full\"\n                style={{ width: `${getProgressPercentage(weeklyMetrics.totalHours, 50)}%` }}\n              ></div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default WeeklyMetricsCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}